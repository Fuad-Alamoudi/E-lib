!function(l){l.confirm=function(t){if(0<l("#confirmOverlay",window.parent.document).length)return!1;var n="";t.buttons_top&&(n+=t.buttons_top),n+='<div id="confirm-buttons-list">',l.each(t.buttons,function(t,e){e.icon?n+='<button class="'+e.class+'"><svg title="cart" class="button__icon"><use xlink:href="#'+e.icon+'"></use></svg><div class="button__content button__content--with-icon">'+e.name+"</div></button>":n+='<button class="'+e.class+'"><div class="button__content">'+e.name+"</div></button>",e.action||(e.action=function(){})}),n+="</div>";var e=document.createElement("div");(e=l(e)).attr("id","confirmOverlay");var o=document.createElement("div");(o=l(o)).attr("id","hideDiv"),o.appendTo(e);var i=document.createElement("div");switch((i=l(i)).attr("id","confirmBox"),t.side?i.addClass("modal modal--side modal--open"):i.addClass("modal modal--open modal--medium"),AmAjaxObj.options.align){case"1":i.css("top","130px");break;case"2":i.css("top","130px"),i.css("left","230px");break;case"3":i.css("top","130px"),i.css("right","0px");break;case"4":i.css("top","30%"),i.css("left","230px");break;case"5":i.css("top","30%"),i.css("right","0px")}i.appendTo(e);var c=document.createElement("div");(c=l(c)).attr("id","confirmButtons"),c.html(n),c.appendTo(i),t.side&&c.addClass("modal__fixed-button");var r=document.createElement("div");(r=l(r)).attr("id","messageBox"),r.html(t.message),r.insertBefore(c);var a=document.createElement("div");(a=l(a)).attr("id","footerBox"),a.html(t.footer),a.insertAfter(r);var d=document.createElement("div");if((d=l(d)).attr("id","headerBox"),d.html(t.header),d.insertBefore(r),t.buttons_footer){var s=document.createElement("div");(s=l(s)).attr("id","confirmButtonsFooter"),s.html(t.buttons_footer),s.appendTo(c)}e.hide().appendTo(l("body",window.parent.document)),e.fadeIn(),o.click(function(){l.confirm.hide()}),l(".modal--open .modal__close").click(function(){l.confirm.hide()});var m=l("#confirm-buttons-list button",window.parent.document),u=0;l.each(t.buttons,function(t,e){m.eq(u++).click(function(){return e.action(),!1})}),l("body").addClass("has-confirm"),l.confirm.timer()},l.confirm.timer=function(){var t=l("#confirmButtons button:last-child",window.parent.document).text();parseInt(t.replace(/\D+/g,""))&&(document.timer=setInterval("AmAjaxObj.oneSec();",1e3))},l.confirm.hide=function(){l("#confirmOverlay",window.parent.document).fadeOut(function(){var t=l("#confirmBox .super-attribute-select",window.parent.document).length;l(this).remove(),l(".col-main",window.parent.document).length&&t&&("undefined"!=typeof currentOptionsPrice&&(optionsPrice=currentOptionsPrice),"undefined"!=typeof currentopConfig&&(opConfig=currentopConfig),"undefined"!=typeof currentspConfig&&(spConfig=currentspConfig)),void 0!==parent.jQuery.fancybox&&parent.jQuery.fancybox.close(),l("body").removeClass("has-confirm"),location.reload()})}}(jQuery);